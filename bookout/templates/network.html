
{% extends "maintemplate.html" %}

{% block title %}Network{% endblock %}

{% block script %}

<script type="text/javascript">
function SelectAll(id)
{
    document.getElementById(id).focus();
    document.getElementById(id).select();
}
</script>

{% endblock %}

{% block content %}

<br>
  <div class="row-fluid">
    <div class="tabbable tabs-left">
      <ul class="nav nav-tabs span2">
        <li class="active"><a href="#Connections" data-toggle="tab">My Connections</a></li>
        <li><a href="#Facebook" data-toggle="tab">Invite by Facebook</a></li>
        <li><a href="#Email" data-toggle="tab">Invite by Email</a></li>
        <li><a href="#Link" data-toggle="tab">Invite by Link</a></li>
<br>
<br>
<br>
<br>
<br>
<br>
      </ul>
      <div class="tab-content span9">
        <div class="tab-pane active" id="Connections">
          <h3 style="margin-top:-4px">My Connections</h3>
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>Username</th>
                <th>Library Size</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Example User 1</td>
                <td>54 books</td>
                <td><a href="/userinfo">View Profile</a></td>
              </tr>
              <tr>
                <td>Example User 2</td>
                <td>5 books</td>
                <td><a href="/userinfo">View Profile</a></td>
              </tr>
              <tr><td colspan="3"><b>The remaining listed users are your connections:</b></td></tr>
{% for connection in user.get_all_connections() %}
  <tr>
    <td>{{ connection.name }}</td>
    <td>n books</td>
    <td><a href="/user/{{ connection.get_id() }}">View Profile</a></td>
  </tr>
{% endfor %}
            </tbody>
          </table>

        </div>
        <div class="tab-pane" id="Facebook">
          <h3 style="margin-top:-4px">Connect with your Facebook Friends</h3>
          <p>Facebook connections are not yet supported. We apologize for the inconvenience. Please check back later.</p>
        </div>
        <div class="tab-pane" id="Email">
          <h3 style="margin-top:-4px">Invite your Friends by Email</h3>
<!--          <p>Email invitation is not yet supported. We apologize for the inconvenience. Please check back later.</p> -->
          <div class="row-fluid">
            <div class="span9">
              <p>Send your friends an email invitation to join BookOut and automatically connect with you. The email will include a button to join BookOut following your message.</p>
            </div>
          </div>
          <br>
          <div class="row-fluid">
            <div class="span1">
              <p>To:</p>
            </div>
            <div class="span8">
              <input type="text" class="input-xxlarge" id="EmailTo" placeholder="Enter email addresses, separated by a comma...">
            </div>
          </div>
          <div class="row-fluid">
            <div class="span1">
              <p>Message:</p>
            </div>
            <div class="span8">
              <textarea class="input-xxlarge" id="EmailBody" rows="10">Hey friend!

I've discovered an awesome new app, called BookOut, that lets you build a library network between friends. You can input the books you own and find books within your friends' libraries. You can request to borrow books, check them out through the app, and receive notifications when they're due. I've added books from my personal library already and want to connect so we can share books. I hope you join!

- {{ user.name }}</textarea>
              <br>
              <br>
              <a class="btn btn-inverse" href="#">Send Email</a>
            </div>
          </div>
        </div>
        <div class="tab-pane" id="Link">
          <h3 style="margin-top:-4px">Connect with Friends by Sending a Link</h3>
          <p>Use your personal invitation link to invite your friends to join BookOut and automatically connect with you.</p>
          <br>
          <p>
            Invitation Link:
            <input type="text" style="width:400px;margin-left:10px;vertical-align:baseline" id="invitationLink" onClick="SelectAll('invitationLink');"value="http://bookout.org/add_connection/{{ user.get_id() }}"><!-- button for copying to clipboard; requires some hefty code to work, just Google it - <a class="btn" href="#" style="vertical-align:baseline">Copy</a> -->
          </p>
        </div>
      </div>
    </div>
  </div>

{% endblock %}